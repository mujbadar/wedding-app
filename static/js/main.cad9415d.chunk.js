(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{37:function(e,t,s){},48:function(e,t,s){},49:function(e,t,s){"use strict";s.r(t);var n=s(1),r=s.n(n),a=s(29),c=s.n(a),i=(s(37),s(8)),o=s(9),l=s(11),d=s(10),h=s(17),j=s(6),u=(s(22),s(20)),b=s(52),m=s(54),O=s(0),p="http://localhost:3003",x=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={user_name:"",password:"",number:"",wrongPass:!1,wrongUser:!1,create:!1},e._isMounted=!1,e.handleChange=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.setState({wrongUser:!1,wrongPass:!1}),fetch(p+"/login",{method:"POST",body:JSON.stringify({user_name:e.state.user_name,password:e.state.password}),headers:{"Content-Type":"application/json"}}).then((function(t){if(console.log(t.status),200===t.status)return console.log("logged in"),t.json();300===t.status?e.setState({wrongPass:!0}):400===t.status&&e.setState({wrongUser:!0})})).then((function(t){e.state.wrongPass||e.state.wrongUser||(e.props.changeUser(t),e._isMounted&&e.setState({user_name:"",password:""}))})).catch((function(e){return console.log("error")}))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Login to order"}),Object(O.jsxs)(b.a,{className:"px-4 py-3",onSubmit:this.handleSubmit,children:[this.state.wrongUser?Object(O.jsx)("small",{className:"text-danger",children:"Wrong UserName"}):null,Object(O.jsxs)(b.a.Group,{className:"form-group",children:[Object(O.jsx)(b.a.Label,{htmlFor:"user_name"}),Object(O.jsx)(b.a.Control,{type:"text",id:"user_name",name:"user_name",onChange:this.handleChange,value:this.state.user_name,placeholder:"User Name",required:!0})]}),this.state.wrongPass?Object(O.jsx)("small",{className:"text-danger",children:"Wrong Password"}):null,Object(O.jsxs)(b.a.Group,{className:"form-group",children:[Object(O.jsx)(b.a.Label,{htmlFor:"password"}),Object(O.jsx)(b.a.Control,{type:"password",id:"password",name:"password",onChange:this.handleChange,value:this.state.password,placeholder:"Password",required:!0})]}),Object(O.jsx)(m.a,{className:"btn btn-primary",type:"submit",value:"Sign In",children:"Sign in"})]}),Object(O.jsx)("div",{className:"dropdown-divider"}),Object(O.jsx)(h.b,{to:"/Create",children:Object(O.jsx)("div",{className:"dropdown-item",children:"New around here? Sign up!"})})]})})}}]),s}(r.a.Component),g=s(32),f="http://localhost:3003",v=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={user:[],userName:"",password:"",firstName:"",lastName:""},e.handleChange=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e.refreshPage=function(){window.location.reload(!1)},e.handleAddUser=function(t){var s=Object(g.a)(e.state.user);s.unshift(t),e.setState({user:s,user_name:"",password:"",first_name:"",last_name:"",user_number:""})},e.handleSubmit=function(t){t.preventDefault(),fetch(f+"/user/new",{method:"POST",body:JSON.stringify({user_name:e.state.user_name,password:e.state.password,first_name:e.state.first_name,last_name:e.state.last_name,user_number:"+1"+e.state.user_number}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.handleAddUser(t),e.setState({userName:"",password:"",firstName:"",lastName:""}),e.refreshPage()})).catch((function(e){return console.error({Error:e})}))},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("div",{className:"container bg-white rounded",children:[Object(O.jsx)("br",{}),Object(O.jsx)("h1",{children:"Create Account"}),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("label",{htmlFor:"userName"}),Object(O.jsx)("input",{className:"form-control",type:"text",id:"user_name",name:"user_name",onChange:this.handleChange,value:this.state.user_name,placeholder:"User Name",required:!0}),Object(O.jsx)("label",{htmlFor:"password"}),Object(O.jsx)("input",{className:"form-control",type:"password",id:"password",name:"password",onChange:this.handleChange,value:this.state.password,placeholder:"Password",required:!0}),Object(O.jsx)("label",{htmlFor:"firstName"}),Object(O.jsx)("input",{className:"form-control",type:"text",id:"first_name",name:"firs_name",onChange:this.handleChange,value:this.state.first_name,placeholder:"First Name",required:!0}),Object(O.jsx)("label",{htmlFor:"lastName"}),Object(O.jsx)("input",{className:"form-control",type:"text",id:"last_name",name:"last_name",onChange:this.handleChange,value:this.state.last_name,placeholder:"Last Name",required:!0}),Object(O.jsx)("label",{htmlFor:"lastName"}),Object(O.jsx)("input",{className:"form-control",type:"text",id:"user_number",name:"user_number",onChange:this.handleChange,value:this.state.user_number,placeholder:"Phone Number",required:!0}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{className:"btn btn-primary",type:"submit",value:"New User"})]}),Object(O.jsx)("br",{})]})})}}]),s}(r.a.Component),y=s(50),_=s(30),C=s(53),w="http://localhost:3003/",N=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={name:"",ingredients:"",quantity:"",user_id:e.props.state.user_id,user_number:e.props.state.number},e.handleChange=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),fetch(w+"order/new",{method:"POST",body:JSON.stringify({name:e.state.name,ingredients:e.state.ingredients,quantity:e.state.quantity,user_number:e.state.user_number,status:"submitted",user:e.state.user_id}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({name:"",ingredients:"",quantity:""}),console.log("Order has been created")})).catch((function(e){return console.error({Error:e})}))},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("div",{className:"container bg-white rounded",children:[Object(O.jsx)("h1",{children:"New Order"}),Object(O.jsx)("br",{}),Object(O.jsxs)(y.a,{children:[Object(O.jsx)("h3",{children:"Choose your drink"}),Object(O.jsx)(_.a,{children:Object(O.jsxs)(C.a,{id:"name",value:"crown",onClick:this.handleChange,style:{width:"18rem"},children:[Object(O.jsx)(C.a.Img,{variant:"top",src:"holder.js/100px180"}),Object(O.jsxs)(C.a.Body,{children:[Object(O.jsx)(C.a.Title,{children:"Crown"}),Object(O.jsx)(C.a.Text,{children:"Whiskey with a chaser"}),Object(O.jsx)(m.a,{onClick:this.handleChange,id:"name",value:"crown",variant:"primary",children:"Choose Beverage"})]})]})}),Object(O.jsx)(_.a,{children:Object(O.jsxs)(C.a,{id:"name",value:"titos",onClick:this.handleChange,style:{width:"18rem"},children:[Object(O.jsx)(C.a.Img,{variant:"top",src:"holder.js/100px180"}),Object(O.jsxs)(C.a.Body,{children:[Object(O.jsx)(C.a.Title,{children:"Tito's"}),Object(O.jsx)(C.a.Text,{children:"Austin Vodka"}),Object(O.jsx)(m.a,{onClick:this.handleChange,id:"name",value:"titos",variant:"primary",children:"Choose Beverage"})]})]})}),Object(O.jsx)(_.a,{children:Object(O.jsxs)(C.a,{id:"name",value:"gin",onClick:this.handleChange,style:{width:"18rem"},children:[Object(O.jsx)(C.a.Img,{variant:"top",src:"holder.js/100px180"}),Object(O.jsxs)(C.a.Body,{children:[Object(O.jsx)(C.a.Title,{children:"Crown"}),Object(O.jsx)(C.a.Text,{children:"Whiskey with a chaser"}),Object(O.jsx)(m.a,{onClick:this.handleChange,id:"name",value:"gin",variant:"primary",children:"Choose Beverage"})]})]})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(y.a,{children:[Object(O.jsx)("h3",{children:"Choose your Chaser"}),Object(O.jsx)(_.a,{children:Object(O.jsxs)(C.a,{id:"ingredients",value:"coke",onClick:this.handleChange,style:{width:"18rem"},children:[Object(O.jsx)(C.a.Img,{variant:"top",src:"holder.js/100px180"}),Object(O.jsxs)(C.a.Body,{children:[Object(O.jsx)(C.a.Title,{children:"Coke"}),Object(O.jsx)(C.a.Text,{children:"Whiskey with a chaser"}),Object(O.jsx)(m.a,{onClick:this.handleChange,id:"ingredients",value:"coke",variant:"primary",children:"Choose Beverage"})]})]})}),Object(O.jsx)(_.a,{children:Object(O.jsxs)(C.a,{id:"ingredients",value:"sprite",onClick:this.handleChange,style:{width:"18rem"},children:[Object(O.jsx)(C.a.Img,{variant:"top",src:"holder.js/100px180"}),Object(O.jsxs)(C.a.Body,{children:[Object(O.jsx)(C.a.Title,{children:"Sprite"}),Object(O.jsx)(C.a.Text,{children:"Whiskey with a chaser"}),Object(O.jsx)(m.a,{onClick:this.handleChange,id:"ingredients",value:"sprite",variant:"primary",children:"Choose Beverage"})]})]})}),Object(O.jsx)(_.a,{children:Object(O.jsxs)(C.a,{id:"ingredients",value:"cranberry",onClick:this.handleChange,style:{width:"18rem"},children:[Object(O.jsx)(C.a.Img,{variant:"top",src:"holder.js/100px180"}),Object(O.jsxs)(C.a.Body,{children:[Object(O.jsx)(C.a.Title,{children:"Cranberry"}),Object(O.jsx)(C.a.Text,{children:"Whiskey with a chaser"}),Object(O.jsx)(m.a,{onClick:this.handleChange,id:"ingredients",value:"cranberry",variant:"primary",children:"Choose Beverage"})]})]})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(_.a,{sm:10,children:[Object(O.jsx)("label",{htmlFor:"name"}),Object(O.jsxs)("select",{className:"form-control",type:"text",id:"quantity",name:"quantity",onChange:this.handleChange,value:this.state.quantity,placeholder:"Drink",children:[Object(O.jsx)("option",{selected:!0,children:"Quantity"}),Object(O.jsx)("option",{value:"1",children:"1"}),Object(O.jsx)("option",{value:"2",children:"2"}),Object(O.jsx)("option",{value:"3",children:"3"})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)(m.a,{onClick:this.handleSubmit,children:"Submit"}),Object(O.jsx)("br",{})]})})}}]),s}(r.a.Component),k=s(19),S=s(51),T="http://localhost:3003/",U=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={orders:[],number:e.props.state.number,first_name:e.props.state.first_name,last_name:e.props.state.last_name,user_id:e.props.state.user_id},e.findOrders=function(){fetch(T+"order",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({orders:t}),e.intervalID=setTimeout(e.findOrders.bind(Object(k.a)(e)),1e4),console.log("User orders found")})).catch((function(e){return console.error({Error:e})}))},e.completeOrder=function(e,t){t.preventDefault(),console.log(T+"order/"+e),fetch(T+"order/"+e,{method:"PUT",body:JSON.stringify({status:"completed"}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log({Error:e})}))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.findOrders()}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("div",{className:"jumbotron bg-white",children:[Object(O.jsx)("h1",{className:"display-4",children:"Hello Bar! Please complete the drinks "}),1==this.state.orders.length?Object(O.jsxs)("p",{children:["Customers ordered: ",this.state.orders.length," drink"]}):Object(O.jsxs)("p",{children:["Customers ordered: ",this.state.orders.length," drinks"]}),Object(O.jsx)("p",{className:"lead"}),Object(O.jsx)("hr",{className:"my-4"}),Object(O.jsx)("p",{})]}),Object(O.jsx)("div",{className:"table-responsive",children:Object(O.jsxs)(S.a,{striped:!0,bordered:!0,hover:!0,children:[Object(O.jsx)("thead",{className:"thead-dark",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"col",children:"Order"}),Object(O.jsx)("th",{scope:"col",children:"Drink"}),Object(O.jsx)("th",{scope:"col",children:"Chaser"}),Object(O.jsx)("th",{scope:"col",children:"Quantity"}),Object(O.jsx)("th",{scope:"col",children:"Status"})]})}),Object(O.jsx)("tbody",{children:this.state.orders.reverse().map((function(t,s){return"submitted"==t.status?Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:s}),Object(O.jsx)("th",{children:t.name}),Object(O.jsx)("th",{children:t.ingredients}),Object(O.jsx)("th",{children:t.quantity}),Object(O.jsx)("th",{children:t.status}),Object(O.jsx)("th",{children:Object(O.jsx)("button",{className:"btn btn-secondary",onClick:function(s){return e.completeOrder(t._id,s)},children:"Finished order"})})]},s):Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:s}),Object(O.jsx)("th",{children:t.name}),Object(O.jsx)("th",{children:t.ingredients}),Object(O.jsx)("th",{children:t.quantity}),Object(O.jsx)("th",{children:t.status})]},s)}))})]})}),Object(O.jsx)(m.a,{className:"btn-danger",onClick:this.props.logout,children:"Logout"})]})}}]),s}(r.a.Component),P=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={orders:[],number:e.props.state.number,first_name:e.props.state.first_name,last_name:e.props.state.last_name,user_id:e.props.state.user_id,admin:e.props.state.admin},e.findOrders=function(){fetch("http://localhost:3003/order/"+e.state.user_id,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({orders:t}),console.log("User orders found"),e.intervalID=setTimeout(e.findOrders.bind(Object(k.a)(e)),1e4)})).catch((function(e){return console.error({Error:e})}))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.findOrders()}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("div",{className:"jumbotron bg-white",children:[Object(O.jsxs)("h1",{className:"display-4",children:["Hello ",this.state.first_name," ",this.state.last_name," "]}),Object(O.jsx)(m.a,{className:"btn-danger",onClick:this.props.logout,children:"Logout"}),1==this.state.orders.length?Object(O.jsxs)("p",{children:["You have ordered: ",this.state.orders.length," drink"]}):Object(O.jsxs)("p",{children:["You have ordered: ",this.state.orders.length," drinks"]}),Object(O.jsx)("p",{className:"lead"}),Object(O.jsx)("hr",{className:"my-4"}),Object(O.jsx)("p",{})]}),Object(O.jsx)("div",{className:"table-responsive",children:Object(O.jsxs)(S.a,{striped:!0,bordered:!0,hover:!0,children:[Object(O.jsx)("thead",{className:"thead-dark",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"col",children:"Drink"}),Object(O.jsx)("th",{scope:"col",children:"Chaser"}),Object(O.jsx)("th",{scope:"col",children:"Quantity"}),Object(O.jsx)("th",{scope:"col",children:"Status"})]})}),Object(O.jsx)("tbody",{children:this.state.orders.reverse().map((function(e,t){return e.status,Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:e.name}),Object(O.jsx)("th",{children:e.ingredients}),Object(O.jsx)("th",{children:e.quantity}),Object(O.jsx)("th",{children:e.status})]},t)}))})]})}),Object(O.jsx)(N,{state:this.state})]})}}]),s}(r.a.Component),q=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={orders:[],number:e.props.state.number,first_name:e.props.state.first_name,last_name:e.props.state.last_name,user_id:e.props.state.user_id,admin:e.props.state.admin},e}return Object(o.a)(s,[{key:"render",value:function(){return this.state.admin?Object(O.jsx)(U,{state:this.state,logout:this.props.logout}):Object(O.jsx)(P,{state:this.state,logout:this.props.logout})}}]),s}(r.a.Component),D=(s(48),localStorage.getItem("Data")?JSON.parse(localStorage.getItem("Data")):{}),B=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={logged_in:D.logged_in||!1,admin:D.amin||!1,user_id:D.user_id||"",user_name:D.user_name||"",first_name:D.first_name||"",last_name:D.last_name||"",number:D.number||"",orders:D.orders||[]},e.changeUser=function(t){e.setState({user_name:t.user_name,first_name:t.first_name,last_name:t.last_name,user_id:t._id,orders:t.orders,number:t.number,logged_in:!0,admin:t.admin}),localStorage.setItem("Data",JSON.stringify(e.state)),D=e.state},e.logout=function(){e.setState({user_name:"",first_name:"",last_name:"",user_id:"",orders:"",number:"",logged_in:!1,admin:""}),localStorage.clear()},e}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(O.jsx)(h.a,{children:Object(O.jsxs)("div",{className:"App",children:[this.state.logged_in?Object(O.jsx)(j.a,{path:"/",render:function(){return Object(O.jsx)(q,{state:e.state,logout:e.logout})}}):Object(O.jsx)(j.a,{path:"/",render:function(){return Object(O.jsx)(x,{state:e.state.logged_in,changeUser:e.changeUser})}}),Object(O.jsx)(j.a,{path:"/Create",component:v})]})})}}]),s}(r.a.Component),F=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,55)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),n(e),r(e),a(e),c(e)}))};c.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(B,{})}),document.getElementById("root")),F()}},[[49,1,2]]]);
//# sourceMappingURL=main.cad9415d.chunk.js.map