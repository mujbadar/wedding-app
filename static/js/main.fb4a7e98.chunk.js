(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(25),c=n.n(r),o=(n(33),n(10)),i=n(11),l=n(13),d=n(12),h=n(17),u=n(6),j=n(18),b=n(0),m="http://localhost:3003",p=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={user_name:"",password:"",number:"",wrongPass:!1,wrongUser:!1,create:!1},e._isMounted=!1,e.handleChange=function(t){e.setState(Object(j.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.setState({wrongUser:!1,wrongPass:!1}),fetch(m+"/login",{method:"POST",body:JSON.stringify({user_name:e.state.user_name,password:e.state.password}),headers:{"Content-Type":"application/json"}}).then((function(t){if(console.log(t.status),200===t.status)return console.log("logged in"),t.json();300===t.status?e.setState({wrongPass:!0}):400===t.status&&e.setState({wrongUser:!0})})).then((function(t){e.state.wrongPass||e.state.wrongUser||(e.props.changeUser(t),e._isMounted&&e.setState({user_name:"",password:""}))})).catch((function(e){return console.log("error")}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"dropdown offset-6 col-6 justify-content-center",children:[Object(b.jsx)("button",{className:"btn btn-secondary dropdown-toggle",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Log In"}),Object(b.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenu",children:[Object(b.jsxs)("form",{className:"px-4 py-3",onSubmit:this.handleSubmit,children:[this.state.wrongUser?Object(b.jsx)("small",{className:"text-danger",children:"Wrong UserName"}):null,Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"user_name"}),Object(b.jsx)("input",{type:"text",id:"user_name",name:"user_name",onChange:this.handleChange,value:this.state.user_name,placeholder:"User Name",required:!0})]}),this.state.wrongPass?Object(b.jsx)("small",{className:"text-danger",children:"Wrong Password"}):null,Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password"}),Object(b.jsx)("input",{type:"password",id:"password",name:"password",onChange:this.handleChange,value:this.state.password,placeholder:"Password",required:!0})]}),Object(b.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Sign In"})]}),Object(b.jsx)("div",{className:"dropdown-divider"}),Object(b.jsx)(h.b,{to:"/Create",children:Object(b.jsx)("div",{className:"dropdown-item",children:"New around here? Sign up!"})})]})]})}}]),n}(a.a.Component),O=n(28),g="http://localhost:3003",x=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={user:[],userName:"",password:"",firstName:"",lastName:""},e.handleChange=function(t){e.setState(Object(j.a)({},t.target.id,t.target.value))},e.refreshPage=function(){window.location.reload(!1)},e.handleAddUser=function(t){var n=Object(O.a)(e.state.user);n.unshift(t),e.setState({user:n,user_name:"",password:"",first_name:"",last_name:"",user_number:""})},e.handleSubmit=function(t){t.preventDefault(),fetch(g+"/user/new",{method:"POST",body:JSON.stringify({user_name:e.state.user_name,password:e.state.password,first_name:e.state.first_name,last_name:e.state.last_name,user_number:"+1"+e.state.user_number}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.handleAddUser(t),e.setState({userName:"",password:"",firstName:"",lastName:""}),e.refreshPage()})).catch((function(e){return console.error({Error:e})}))},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"container bg-white rounded",children:[Object(b.jsx)("br",{}),Object(b.jsx)("h1",{children:"Create Account"}),Object(b.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(b.jsx)("label",{htmlFor:"userName"}),Object(b.jsx)("input",{className:"form-control",type:"text",id:"user_name",name:"user_name",onChange:this.handleChange,value:this.state.user_name,placeholder:"User Name",required:!0}),Object(b.jsx)("label",{htmlFor:"password"}),Object(b.jsx)("input",{className:"form-control",type:"password",id:"password",name:"password",onChange:this.handleChange,value:this.state.password,placeholder:"Password",required:!0}),Object(b.jsx)("label",{htmlFor:"firstName"}),Object(b.jsx)("input",{className:"form-control",type:"text",id:"first_name",name:"firs_name",onChange:this.handleChange,value:this.state.first_name,placeholder:"First Name",required:!0}),Object(b.jsx)("label",{htmlFor:"lastName"}),Object(b.jsx)("input",{className:"form-control",type:"text",id:"last_name",name:"last_name",onChange:this.handleChange,value:this.state.last_name,placeholder:"Last Name",required:!0}),Object(b.jsx)("label",{htmlFor:"lastName"}),Object(b.jsx)("input",{className:"form-control",type:"text",id:"user_number",name:"user_number",onChange:this.handleChange,value:this.state.user_number,placeholder:"Phone Number",required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"btn btn-primary",type:"submit",value:"New User"})]}),Object(b.jsx)("br",{})]})})}}]),n}(a.a.Component),f=n(48),y=n(47),v=n(27),_="http://localhost:3003/",C=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={name:"",ingredients:"",quantity:"",user_id:e.props.state.user_id,user_number:e.props.state.number},e.handleChange=function(t){e.setState(Object(j.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),fetch(_+"order/new",{method:"POST",body:JSON.stringify({name:e.state.name,ingredients:e.state.ingredients,quantity:e.state.quantity,user_number:e.state.user_number,status:"submitted",user:e.state.user_id}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({name:"",ingredients:"",quantity:""}),console.log("Order has been created")})).catch((function(e){return console.error({Error:e})}))},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsxs)("div",{className:"container bg-white rounded",children:[Object(b.jsx)("br",{}),Object(b.jsx)("h1",{children:"New Order"}),Object(b.jsx)("form",{onSubmit:this.handleSubmit,children:Object(b.jsxs)("fieldset",{children:[Object(b.jsxs)(f.a.Group,{onSubmit:this.handleSubmit,s:y.a,children:[Object(b.jsx)(f.a.Label,{as:"legend",column:!0,sm:2,children:"Choose your Drink"}),Object(b.jsxs)(v.a,{sm:10,children:[Object(b.jsx)(f.a.Check,{type:"radio",label:"Crown",name:"crown",id:"name",onChange:this.handleChange,value:"crown"}),Object(b.jsx)(f.a.Check,{type:"radio",label:"Tito's",name:"titos",id:"name",onChange:this.handleChange,value:"titos"}),Object(b.jsx)(f.a.Check,{type:"radio",label:"Gin",name:"gin",id:"name",onChange:this.handleChange,value:"gin"})]})]}),Object(b.jsx)("br",{}),Object(b.jsxs)(f.a.Group,{as:y.a,children:[Object(b.jsx)(f.a.Label,{as:"legend",column:!0,sm:2,children:"Choose your Chaser"}),Object(b.jsxs)(v.a,{sm:10,children:[Object(b.jsx)(f.a.Check,{type:"radio",label:"Coke",name:"coke",id:"ingredients",onChange:this.handleChange,value:"coke"}),Object(b.jsx)(f.a.Check,{type:"radio",label:"Sprite",name:"sprite",id:"ingredients",onChange:this.handleChange,value:"sprite"}),Object(b.jsx)(f.a.Check,{type:"radio",label:"Cranberry",name:"cranberry",id:"ingredients",onChange:this.handleChange,value:"cranberry"})]}),Object(b.jsxs)(v.a,{sm:10,children:[Object(b.jsx)("label",{htmlFor:"name"}),Object(b.jsxs)("select",{className:"form-control",type:"text",id:"quantity",name:"quantity",onChange:this.handleChange,value:this.state.quantity,placeholder:"Drink",children:[Object(b.jsx)("option",{selected:!0,children:"Quantity"}),Object(b.jsx)("option",{value:"1",children:"1"}),Object(b.jsx)("option",{value:"2",children:"2"}),Object(b.jsx)("option",{value:"3",children:"3"})]})]}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Submit"})]})]})}),Object(b.jsx)("br",{})]}),this.state.redirect?Object(b.jsx)(u.a,{to:"/"}):null]})}}]),n}(a.a.Component),N="http://localhost:3003/",w=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={orders:[],number:e.props.state.number,first_name:e.props.state.first_name,last_name:e.props.state.last_name,user_id:e.props.state.user_id},e.findOrders=function(){fetch(N+"order/"+e.state.user_id,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({orders:t}),console.log("User orders found")})).catch((function(e){return console.error({Error:e})}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.findOrders()}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsxs)("div",{className:"jumbotron bg-white",children:[Object(b.jsxs)("h1",{className:"display-4",children:["Hello ",this.state.first_name," ",this.state.last_name," "]}),1==this.state.orders.length?Object(b.jsxs)("p",{children:["You have ordered: ",this.state.orders.length," drink"]}):Object(b.jsxs)("p",{children:["You have ordered: ",this.state.orders.length," drinks"]}),Object(b.jsx)("p",{className:"lead"}),Object(b.jsx)("hr",{className:"my-4"}),Object(b.jsx)("p",{})]}),Object(b.jsx)("div",{className:"table-responsive",children:Object(b.jsxs)("table",{className:"table table-light table-hover",children:[Object(b.jsx)("thead",{className:"thead-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Drink"}),Object(b.jsx)("th",{scope:"col",children:"Chaser"}),Object(b.jsx)("th",{scope:"col",children:"Quantity"}),Object(b.jsx)("th",{scope:"col",children:"Status"})]})}),Object(b.jsx)("tbody",{children:this.state.orders.map((function(e,t){return e.status,Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:e.name}),Object(b.jsx)("th",{children:e.ingredients}),Object(b.jsx)("th",{children:e.quantity}),Object(b.jsx)("th",{children:e.status})]},t)}))})]})}),Object(b.jsx)(C,{state:this.state})]})}}]),n}(a.a.Component),S="http://localhost:3003/",k=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={orders:[],number:e.props.state.number,first_name:e.props.state.first_name,last_name:e.props.state.last_name,user_id:e.props.state.user_id,order_id:""},e.findOrders=function(){fetch(S+"order",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({orders:t}),console.log("User orders found")})).catch((function(e){return console.error({Error:e})}))},e.completeOrder=function(e,t){t.preventDefault(),console.log(S+"order/"+e),fetch(S+"order/"+e,{method:"PUT",body:JSON.stringify({status:"completed"}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log({Error:e})}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.findOrders()}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsxs)("div",{className:"jumbotron bg-white",children:[Object(b.jsx)("h1",{className:"display-4",children:"Hello Bar! Please complete the drinks "}),1==this.state.orders.length?Object(b.jsxs)("p",{children:["Customers ordered: ",this.state.orders.length," drink"]}):Object(b.jsxs)("p",{children:["Customers ordered: ",this.state.orders.length," drinks"]}),Object(b.jsx)("p",{className:"lead"}),Object(b.jsx)("hr",{className:"my-4"}),Object(b.jsx)("p",{})]}),Object(b.jsx)("div",{className:"table-responsive",children:Object(b.jsxs)("table",{className:"table table-light table-hover",children:[Object(b.jsx)("thead",{className:"thead-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Order"}),Object(b.jsx)("th",{scope:"col",children:"Drink"}),Object(b.jsx)("th",{scope:"col",children:"Chaser"}),Object(b.jsx)("th",{scope:"col",children:"Quantity"}),Object(b.jsx)("th",{scope:"col",children:"Status"})]})}),Object(b.jsx)("tbody",{children:this.state.orders.map((function(t,n){return"submitted"==t.status?Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:n}),Object(b.jsx)("th",{children:t.name}),Object(b.jsx)("th",{children:t.ingredients}),Object(b.jsx)("th",{children:t.quantity}),Object(b.jsx)("th",{children:t.status}),Object(b.jsx)("th",{children:Object(b.jsx)("div",{className:"btn btn-secondary",onClick:function(n){return e.completeOrder(t._id,n)},children:"Finished order"})})]},n):Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:n}),Object(b.jsx)("th",{children:t.name}),Object(b.jsx)("th",{children:t.ingredients}),Object(b.jsx)("th",{children:t.quantity}),Object(b.jsx)("th",{children:t.status})]},n)}))})]})})]})}}]),n}(a.a.Component),U=(n(44),localStorage.getItem("Data")?JSON.parse(localStorage.getItem("Data")):{}),P=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={logged_in:U.logged_in||!1,user_id:U.user_id||"",user_name:U.user_name||"",first_name:U.first_name||"",last_name:U.last_name||"",number:U.number||"",orders:U.orders||[]},e.changeUser=function(t){e.setState({user_name:t.user_name,first_name:t.first_name,last_name:t.last_name,user_id:t._id,orders:t.orders,number:t.number,logged_in:!0}),localStorage.setItem("Data",JSON.stringify(e.state)),U=e.state},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsx)(h.a,{children:Object(b.jsxs)("div",{className:"App",children:[this.state.logged_in?Object(b.jsx)(u.b,{path:"/",render:function(){return Object(b.jsx)(w,{state:e.state})}}):Object(b.jsx)(u.b,{path:"/",render:function(){return Object(b.jsx)(p,{state:e.state.logged_in,changeUser:e.changeUser})}}),Object(b.jsx)(u.b,{path:"/Create",component:x}),Object(b.jsx)(u.b,{path:"/",render:function(){return Object(b.jsx)(k,{state:e.state})}})]})})}}]),n}(a.a.Component),q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(P,{})}),document.getElementById("root")),q()}},[[45,1,2]]]);
//# sourceMappingURL=main.fb4a7e98.chunk.js.map